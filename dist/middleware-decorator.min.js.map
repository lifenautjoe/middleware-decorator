{"version":3,"sources":["middleware-decorator.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","middlewareDecoratorFactory","middlewareRunner","f","decoratedF","_decoratedF$_middlewa","_middleware","run","apply","arguments","use","middleware","has","_synchronousMiddlewareRunner","_synchronousMiddlewareRunner2","_asynchronousMiddlewareRunner","_asynchronousMiddlewareRunner2","_promisedMiddlewareRunner","_promisedMiddlewareRunner2","middlewareDecorator","async","promised","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","SynchronousMiddlewareRunner","_middlewares","_f","middlewares","input","nextMiddleware","shift","nextMiddlewareOutput","_digest","Error","push","indexOf","fOutput","_runFWithArgs","slice","_toConsumableArray","arr","Array","isArray","arr2","from","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","AsynchronousMiddlewareRunner","_SynchronousMiddlewar","getPrototypeOf","onDigested","next","that","undefined","runCb","digestionOutput","_cb2","_len","output","_key","cb","_cb","PromisedMiddlewareRunner","_FunctionMiddleware","then","_this2","_isPromise","nextMiddlewareResolution","_this3","fResolution"],"mappings":"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","file":"middleware-decorator.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"middlewareDecorator\"] = factory();\n\telse\n\t\troot[\"middlewareDecorator\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _synchronousMiddlewareRunner = __webpack_require__(1);\n\t\n\tvar _synchronousMiddlewareRunner2 = _interopRequireDefault(_synchronousMiddlewareRunner);\n\t\n\tvar _asynchronousMiddlewareRunner = __webpack_require__(2);\n\t\n\tvar _asynchronousMiddlewareRunner2 = _interopRequireDefault(_asynchronousMiddlewareRunner);\n\t\n\tvar _promisedMiddlewareRunner = __webpack_require__(3);\n\t\n\tvar _promisedMiddlewareRunner2 = _interopRequireDefault(_promisedMiddlewareRunner);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * @typedef {Function} functionMiddleware~use\n\t * @param {Function} middleware\n\t */\n\t\n\t/**\n\t * @typedef {Function} functionMiddleware\n\t * @property {functionMiddleware~use} use\n\t */\n\t\n\t/**\n\t * Generates middleware runner decorators with the given middlewareRunner\n\t * @param {Function} middlewareRunner\n\t * @returns {middlewareRunner}\n\t */\n\tfunction middlewareDecoratorFactory(middlewareRunner) {\n\t  /**\n\t   * Decorates the given function with middleware functionality\n\t   * @param {Function} f\n\t   * @returns {functionMiddleware}\n\t   */\n\t  return function middlewareDecorator(f) {\n\t    function decoratedF() {\n\t      var _decoratedF$_middlewa;\n\t\n\t      return (_decoratedF$_middlewa = decoratedF._middleware).run.apply(_decoratedF$_middlewa, arguments);\n\t    }\n\t\n\t    decoratedF._middleware = new middlewareRunner(f);\n\t\n\t    decoratedF.use = function (middleware) {\n\t      decoratedF._middleware.use(middleware);\n\t    };\n\t\n\t    decoratedF.has = function (middleware) {\n\t      return decoratedF._middleware.has(middleware);\n\t    };\n\t\n\t    return decoratedF;\n\t  };\n\t} /**\n\t   * Created on 11/12/16.\n\t   * @author Joel Hernandez <involvmnt@gmail.com>\n\t   */\n\t\n\tvar middlewareDecorator = middlewareDecoratorFactory(_synchronousMiddlewareRunner2.default);\n\tmiddlewareDecorator.async = middlewareDecoratorFactory(_asynchronousMiddlewareRunner2.default);\n\tmiddlewareDecorator.promised = middlewareDecoratorFactory(_promisedMiddlewareRunner2.default);\n\t\n\tmodule.exports = middlewareDecorator;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SynchronousMiddlewareRunner = function () {\n\t    function SynchronousMiddlewareRunner(f) {\n\t        _classCallCheck(this, SynchronousMiddlewareRunner);\n\t\n\t        this._middlewares = [];\n\t        this._f = f;\n\t    }\n\t\n\t    _createClass(SynchronousMiddlewareRunner, [{\n\t        key: \"_digest\",\n\t        value: function _digest(middlewares, input) {\n\t            if (middlewares.length === 0) return input;\n\t            var nextMiddleware = middlewares.shift();\n\t            var nextMiddlewareOutput = nextMiddleware(input);\n\t            return this._digest(middlewares, nextMiddlewareOutput);\n\t        }\n\t    }, {\n\t        key: \"use\",\n\t        value: function use(middleware) {\n\t            if (typeof middleware !== \"function\") throw new Error('middleware:function is required');\n\t            this._middlewares.push(middleware);\n\t        }\n\t    }, {\n\t        key: \"has\",\n\t        value: function has(middleware) {\n\t            return this._middlewares.indexOf(middleware) != -1;\n\t        }\n\t    }, {\n\t        key: \"_runFWithArgs\",\n\t        value: function _runFWithArgs() {\n\t            return this._f.apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: \"run\",\n\t        value: function run() {\n\t            var fOutput = this._runFWithArgs.apply(this, arguments);\n\t            if (this._middlewares.length === 0) return fOutput;\n\t            return this._digest(this._middlewares.slice(), fOutput);\n\t        }\n\t    }]);\n\t\n\t    return SynchronousMiddlewareRunner;\n\t}();\n\t\n\texports.default = SynchronousMiddlewareRunner;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _synchronousMiddlewareRunner = __webpack_require__(1);\n\t\n\tvar _synchronousMiddlewareRunner2 = _interopRequireDefault(_synchronousMiddlewareRunner);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created on 11/12/16.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author Joel Hernandez <involvmnt@gmail.com>\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t\n\tvar AsynchronousMiddlewareRunner = function (_SynchronousMiddlewar) {\n\t    _inherits(AsynchronousMiddlewareRunner, _SynchronousMiddlewar);\n\t\n\t    function AsynchronousMiddlewareRunner() {\n\t        _classCallCheck(this, AsynchronousMiddlewareRunner);\n\t\n\t        return _possibleConstructorReturn(this, (AsynchronousMiddlewareRunner.__proto__ || Object.getPrototypeOf(AsynchronousMiddlewareRunner)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(AsynchronousMiddlewareRunner, [{\n\t        key: '_digest',\n\t        value: function _digest(middlewares, input, onDigested) {\n\t            if (middlewares.length === 0) return onDigested(undefined, input);\n\t            var nextMiddleware = middlewares.shift();\n\t\n\t            var that = this;\n\t\n\t            function next(nextMiddlewareOutput) {\n\t                if (nextMiddlewareOutput instanceof Error) {\n\t                    onDigested(nextMiddlewareOutput);\n\t                } else {\n\t                    that._digest(middlewares, nextMiddlewareOutput, onDigested);\n\t                }\n\t            }\n\t\n\t            nextMiddleware(input, next);\n\t        }\n\t    }, {\n\t        key: 'run',\n\t        value: function run() {\n\t            var fOutput = this._runFWithArgs.apply(this, arguments);\n\t            var digestionOutput = void 0;\n\t            var _cb2 = void 0;\n\t\n\t            function runCb() {\n\t                if (digestionOutput && _cb2) _cb2.apply(undefined, _toConsumableArray(digestionOutput));\n\t            }\n\t\n\t            function onDigested() {\n\t                for (var _len = arguments.length, output = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    output[_key] = arguments[_key];\n\t                }\n\t\n\t                digestionOutput = output;\n\t                runCb();\n\t            }\n\t\n\t            this._digest(this._middlewares.slice(), fOutput, onDigested);\n\t            return {\n\t                cb: function cb(_cb) {\n\t                    if (typeof _cb !== \"function\") throw new Error('_cb:function is required');\n\t                    _cb2 = _cb;\n\t                    runCb();\n\t                }\n\t            };\n\t        }\n\t    }]);\n\t\n\t    return AsynchronousMiddlewareRunner;\n\t}(_synchronousMiddlewareRunner2.default);\n\t\n\texports.default = AsynchronousMiddlewareRunner;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _synchronousMiddlewareRunner = __webpack_require__(1);\n\t\n\tvar _synchronousMiddlewareRunner2 = _interopRequireDefault(_synchronousMiddlewareRunner);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created on 11/12/16.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author Joel Hernandez <involvmnt@gmail.com>\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t\n\tvar PromisedMiddlewareRunner = function (_FunctionMiddleware) {\n\t    _inherits(PromisedMiddlewareRunner, _FunctionMiddleware);\n\t\n\t    function PromisedMiddlewareRunner() {\n\t        _classCallCheck(this, PromisedMiddlewareRunner);\n\t\n\t        return _possibleConstructorReturn(this, (PromisedMiddlewareRunner.__proto__ || Object.getPrototypeOf(PromisedMiddlewareRunner)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(PromisedMiddlewareRunner, [{\n\t        key: '_isPromise',\n\t\n\t\n\t        /**\n\t         * Checks if the given value is a promise\n\t         * @param {Object} value\n\t         * @returns {boolean}\n\t         * @private\n\t         */\n\t        value: function _isPromise(value) {\n\t            return typeof value.then === 'function';\n\t        }\n\t    }, {\n\t        key: '_digest',\n\t        value: function _digest(middlewares, input) {\n\t            var _this2 = this;\n\t\n\t            if (middlewares.length === 0) return input;\n\t            var nextMiddleware = middlewares.shift();\n\t            var nextMiddlewareOutput = nextMiddleware(input);\n\t\n\t            if (this._isPromise(nextMiddlewareOutput)) {\n\t                return nextMiddlewareOutput.then(function (nextMiddlewareResolution) {\n\t                    return _this2._digest(middlewares, nextMiddlewareResolution);\n\t                });\n\t            }\n\t            return this._digest(middlewares, nextMiddlewareOutput);\n\t        }\n\t\n\t        /**\n\t         * @param args\n\t         * @returns {Promise}\n\t         */\n\t\n\t    }, {\n\t        key: 'run',\n\t        value: function run() {\n\t            var _this3 = this;\n\t\n\t            /**\n\t             * @type {Promise}\n\t             */\n\t            var fOutput = this._runFWithArgs.apply(this, arguments);\n\t            if (this._middlewares.length === 0) return fOutput;\n\t            return fOutput.then(function (fResolution) {\n\t                return _this3._digest(_this3._middlewares.slice(), fResolution);\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return PromisedMiddlewareRunner;\n\t}(_synchronousMiddlewareRunner2.default);\n\t\n\texports.default = PromisedMiddlewareRunner;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}